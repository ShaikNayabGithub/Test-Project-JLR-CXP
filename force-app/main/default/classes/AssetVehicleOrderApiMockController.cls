@isTest
global class AssetVehicleOrderApiMockController implements HttpCalloutMock {
    
    String accessTokenrespBody = '{"access_token":"e2c5f19c","scope":"am_application_scope default","token_type":"Bearer","expires_in":3600}';
    String orderApirespBody = '{"vin":"SALEA7BU2L2006511","shortVin":"EA006511","placingOrganisationId":{"id":"SALN4850N4850","organisationId":"N4850","name":"PMG Panama S.A.","addressLine1":"Calle 50 Urb., Obarrio","addressLine2":"Apartado 92","city":"Panama","countryCode":"PAN"},"salesmanId":"J-CAR109","plant":"N","orderMarket":{"id":"PB","descr":"Panama","lang":"en-GB"},"brandOrderStatus":{"id":"HANDOVER","descr":"Customer Handover (HANDOVER)","lang":"en-GB"},"globalSalesType":{"id":"P"},"financialStatus":"610","commonOrderType":{"id":"1","descr":"Private Individual","lang":"en-GB"},"orderFrozenIndicator":false,"typeOfSale":{"id":"AAA","descr":"Individual","lang":"en-GB"},"autoTradeIndicator":false,"brandOrderType":{"id":"RET","descr":"Individual","lang":"en-GB"},"currentStatus":{"id":"10","descr":"Customer Handover","lang":"en-GB","timestamp":"2020-11-26T13:26:44Z"},"onlineSalesIndicator":false,"svoIndicator":false,"wltpSensitiveIndicator":false,"archiveStatus":false,"orderDate":"2019-08-22T22:46:52Z","acceptedBySalesDate":"2020-04-30","orderConfirmedDate":"2019-08-22","lastNormalSpecificationChangeDate":"2020-01-31T00:00Z","currentPlannedBuildDate":"2020-03-07T08:58:09Z","acceptedBuildDate":"1970-01-01","currentPlannedDeliveryDate":"2020-06-26","acceptedDeliveryDate":"2020-07-03","factoryCompleteDate":"2020-04-30T19:37:38Z","intermediateDestinationDate":"2020-06-24","handoverDate":"2020-11-26","currentEventCode":"REGISTRATI","rccUrl":"https://qa-apis-ext.prov.dame.ds.jlr-apps.com/Vehicles/1/Configurations","commonOrderNo":"Order123456","retailerRef":"Gama SA","distributorRef":"401814","plantOrderNo":"MB481316","manufactureASAPIndicator":false,"_embedded":{"lifeCycleEvents":[{"id":"NEWORDER","descr":"New Order Creation","effectiveDate":"2019-08-22T22:46:52.403Z"}],"prices":[null,null,null,{"priceType":"totalLocalOptionsPrice","priceValue":0.00,"source":"VISTA"},null],"distribution":{"commonOrderNo":"15326569","plannedVesselName":"Themis","actualVesselName":"Themis","plannedSailDate":"2020-05-30T20:00Z","shippingBillOfLadingId":"176266","shippingBillOfLadingDate":"2020-06-01T10:45:02Z","shippingBillofLadingStatus":"C","intermediateDestination":{"id":"PAMIT","orgLevel":"0"},"plannedIntermediateDestinationDate":"2020-06-24","intermediateDestinationDate":"2020-06-24T09:44Z","finalDestination":{"id":"N4850","desc":"PMG Panama S.A.","orgLevel":"50"},"requestedDeliveryDate":"2020-06-26","plannedDeliveryDate":"2020-06-26","acceptedDeliveryDate":"2020-07-03","calloverIndicator":"N"},"vehicle":{"steeringCode":{"type":"OTHR","id":"252SF","group":"DERIVATIVE - HAND OF DRIVE","descr":"Left Hand Drive (LHD)","lang":"en-GB"},"vin":"Vin123456","shortVin":"Vin123456","specificationLock":"99","specificationMarket":{"id":"PAN","lang":"en-GB"},"model":{"id":"Q1","orgLevel":0,"lang":"en-GB"},"programId":"L663","modelYear":{"id":"001CD","orgLevel":0,"lang":"en-GB"},"brand":{"id":"SAL","descr":"Land Rover","lang":"en-GB"},"brochureModel":{"type":"BMOD","id":"AB663","group":"null","descr":"L663 3.0 AJ20-P6H AWD 5DR SWB","lang":"en-GB"},"product":{"id":"5000529105","descr":"L663 3.0P AWD 5DR SWB (AB663) First Edition 110 400PS Auto, Panama PAN, AB663/351CX, 2020"},"derivativePack":{},"derivative":{"type":"PROD","id":"AB663","group":"null","descr":"L663 3.0P AWD 5DR SWB (AB663) First Edition 110 400PS Auto, Panama PAN, AB663/351CX, 2020","lang":"en-GB"},"engineType":{"type":"OTHR","id":"200BP","group":"null","lang":"en-GB"},"bodyStyle":{"type":"OTHR","id":"099AA","group":"null","descr":"5 Door Estate","lang":"en-GB"},"drive":{"type":"OTHR","id":"109AA","group":"null","descr":"All Wheel Drive","lang":"en-GB"},"wheelBase":{"type":"OTHR","id":"101AG","group":"DERIVATIVE - WHEELBASE","descr":"Standard Wheelbase","lang":"en-GB"},"exteriorColour":{"type":"PCOL","id":"1AC","group":"PAINTS - METALLIC","descr":"Indus Silver","lang":"en-GB"},"trim":{},"transmission":{"type":"TRAN","id":"078CU","group":"null","descr":"Auto 8 SPD Auto Trans ZF 8HP76","lang":"en-GB"},"fuelType":{"type":"OTHR","id":"103AH","group":"null","descr":"Unleaded Fuel","lang":"en-GB"},"_embedded":{},"engineNo":"200225Z0328PT306","chassisNo":"006511","registrationNo":"","registrationDate":"2020-11-26"}}}';
    String orderResp1 = '{"vin":"SALEA7BU2L2006511","shortVin":"EA006511","placingOrganisationId":{"id":"SALN4850N4850","organisationId":"N4850","name":"PMG Panama S.A.","addressLine1":"Calle 50 Urb., Obarrio","addressLine2":"Apartado 92","city":"Panama","countryCode":"PAN"},"salesmanId":"J-CAR109","plant":"N","orderMarket":{"id":"PB","descr":"Panama","lang":"en-GB"},"brandOrderStatus":{"id":"HANDOVER","descr":"Customer Handover (HANDOVER)","lang":"en-GB"},"globalSalesType":{"id":"P"},"financialStatus":"610","commonOrderType":{"id":"1","descr":"Private Individual","lang":"en-GB"},"orderFrozenIndicator":false,"typeOfSale":{"id":"AAA","descr":"Individual","lang":"en-GB"},"autoTradeIndicator":false,"brandOrderType":{"id":"RET","descr":"Individual","lang":"en-GB"},"currentStatus":{"id":"100","descr":"Customer Handover","lang":"en-GB","timestamp":"2020-11-26T13:26:44Z"},"onlineSalesIndicator":false,"svoIndicator":false,"wltpSensitiveIndicator":false,"archiveStatus":false,"orderDate":"2019-08-22T22:46:52Z","acceptedBySalesDate":"2020-04-30","orderConfirmedDate":"2019-08-22","lastNormalSpecificationChangeDate":"2020-01-31T00:00Z","currentPlannedBuildDate":"2020-03-07T08:58:09Z","acceptedBuildDate":"1970-01-01","currentPlannedDeliveryDate":"2020-06-26","acceptedDeliveryDate":"2020-07-03","factoryCompleteDate":"2020-04-30T19:37:38Z","intermediateDestinationDate":"2020-06-24","handoverDate":"2020-11-26","currentEventCode":"REGISTRATI","rccUrl":"https://qa-apis-ext.prov.dame.ds.jlr-apps.com/Vehicles/1/Configurations","commonOrderNo":"Order123456","retailerRef":"Gama SA","distributorRef":"401814","plantOrderNo":"MB481316","manufactureASAPIndicator":false,"_embedded":{"lifeCycleEvents":[{"id":"NEWORDER","descr":"New Order Creation","effectiveDate":"2019-08-22T22:46:52.403Z"}],"prices":[null,null,null,{"priceType":"totalLocalOptionsPrice","priceValue":0.00,"source":"VISTA"},null],"distribution":{"commonOrderNo":"15326569","plannedVesselName":"Themis","actualVesselName":"Themis","plannedSailDate":"2020-05-30T20:00Z","shippingBillOfLadingId":"176266","shippingBillOfLadingDate":"2020-06-01T10:45:02Z","shippingBillofLadingStatus":"C","intermediateDestination":{"id":"PAMIT","orgLevel":"0"},"plannedIntermediateDestinationDate":"2020-06-24","intermediateDestinationDate":"2020-06-24T09:44Z","finalDestination":{"id":"N4850","desc":"PMG Panama S.A.","orgLevel":"50"},"requestedDeliveryDate":"2020-06-26","plannedDeliveryDate":"2020-06-26","acceptedDeliveryDate":"2020-07-03","calloverIndicator":"N"},"vehicle":{"steeringCode":{"type":"OTHR","id":"252SF","group":"DERIVATIVE - HAND OF DRIVE","descr":"Left Hand Drive (LHD)","lang":"en-GB"},"vin":"Vin123456","shortVin":"Vin123456","specificationLock":"99","specificationMarket":{"id":"PAN","lang":"en-GB"},"model":{"id":"Q1","orgLevel":0,"lang":"en-GB"},"programId":"L663","modelYear":{"id":"001CD","orgLevel":0,"lang":"en-GB"},"brand":{"id":"SAL","descr":"Land Rover","lang":"en-GB"},"brochureModel":{"type":"BMOD","id":"AB663","group":"null","descr":"L663 3.0 AJ20-P6H AWD 5DR SWB","lang":"en-GB"},"product":{"id":"5000529105","descr":"L663 3.0P AWD 5DR SWB (AB663) First Edition 110 400PS Auto, Panama PAN, AB663/351CX, 2020"},"derivativePack":{},"derivative":{"type":"PROD","id":"AB663","group":"null","descr":"L663 3.0P AWD 5DR SWB (AB663) First Edition 110 400PS Auto, Panama PAN, AB663/351CX, 2020","lang":"en-GB"},"engineType":{"type":"OTHR","id":"200BP","group":"null","lang":"en-GB"},"bodyStyle":{"type":"OTHR","id":"099AA","group":"null","descr":"5 Door Estate","lang":"en-GB"},"drive":{"type":"OTHR","id":"109AA","group":"null","descr":"All Wheel Drive","lang":"en-GB"},"wheelBase":{"type":"OTHR","id":"101AG","group":"DERIVATIVE - WHEELBASE","descr":"Standard Wheelbase","lang":"en-GB"},"exteriorColour":{"type":"PCOL","id":"1AC","group":"PAINTS - METALLIC","descr":"Indus Silver","lang":"en-GB"},"trim":{},"transmission":{"type":"TRAN","id":"078CU","group":"null","descr":"Auto 8 SPD Auto Trans ZF 8HP76","lang":"en-GB"},"fuelType":{"type":"OTHR","id":"103AH","group":"null","descr":"Unleaded Fuel","lang":"en-GB"},"_embedded":{},"engineNo":"200225Z0328PT306","chassisNo":"006511","registrationNo":"","registrationDate":"2020-11-26"}}}';
    String orderResp2 = '{"vin":"SALEA7BU2L2006511","shortVin":"EA006511","placingOrganisationId":{"id":"SALN4850N4850","organisationId":"N4850","name":"PMG Panama S.A.","addressLine1":"Calle 50 Urb., Obarrio","addressLine2":"Apartado 92","city":"Panama","countryCode":"PAN"},"salesmanId":"J-CAR109","plant":"N","orderMarket":{"id":"PB","descr":"Panama","lang":"en-GB"},"brandOrderStatus":{"id":"HANDOVER","descr":"Customer Handover (HANDOVER)","lang":"en-GB"},"globalSalesType":{"id":"P"},"financialStatus":"610","commonOrderType":{"id":"1","descr":"Private Individual","lang":"en-GB"},"orderFrozenIndicator":false,"typeOfSale":{"id":"AAA","descr":"Individual","lang":"en-GB"},"autoTradeIndicator":false,"brandOrderType":{"id":"RET","descr":"Individual","lang":"en-GB"},"currentStatus":{"id":null,"descr":"Customer Handover","lang":"en-GB","timestamp":"2020-11-26T13:26:44Z"},"onlineSalesIndicator":false,"svoIndicator":false,"wltpSensitiveIndicator":false,"archiveStatus":false,"orderDate":"2019-08-22T22:46:52Z","acceptedBySalesDate":"2020-04-30","orderConfirmedDate":"2019-08-22","lastNormalSpecificationChangeDate":"2020-01-31T00:00Z","currentPlannedBuildDate":"2020-03-07T08:58:09Z","acceptedBuildDate":"1970-01-01","currentPlannedDeliveryDate":"2020-06-26","acceptedDeliveryDate":"2020-07-03","factoryCompleteDate":"2020-04-30T19:37:38Z","intermediateDestinationDate":"2020-06-24","handoverDate":"2020-11-26","currentEventCode":"REGISTRATI","rccUrl":"https://qa-apis-ext.prov.dame.ds.jlr-apps.com/Vehicles/1/Configurations","commonOrderNo":"Order123456","retailerRef":"Gama SA","distributorRef":"401814","plantOrderNo":"MB481316","manufactureASAPIndicator":false,"_embedded":{"lifeCycleEvents":[{"id":"NEWORDER","descr":"New Order Creation","effectiveDate":"2019-08-22T22:46:52.403Z"}],"prices":[null,null,null,{"priceType":"totalLocalOptionsPrice","priceValue":0.00,"source":"VISTA"},null],"distribution":{"commonOrderNo":"15326569","plannedVesselName":"Themis","actualVesselName":"Themis","plannedSailDate":"2020-05-30T20:00Z","shippingBillOfLadingId":"176266","shippingBillOfLadingDate":"2020-06-01T10:45:02Z","shippingBillofLadingStatus":"C","intermediateDestination":{"id":"PAMIT","orgLevel":"0"},"plannedIntermediateDestinationDate":"2020-06-24","intermediateDestinationDate":"2020-06-24T09:44Z","finalDestination":{"id":"N4850","desc":"PMG Panama S.A.","orgLevel":"50"},"requestedDeliveryDate":"2020-06-26","plannedDeliveryDate":"2020-06-26","acceptedDeliveryDate":"2020-07-03","calloverIndicator":"N"},"vehicle":{"steeringCode":{"type":"OTHR","id":"252SF","group":"DERIVATIVE - HAND OF DRIVE","descr":"Left Hand Drive (LHD)","lang":"en-GB"},"vin":"Vin123456","shortVin":"Vin123456","specificationLock":"99","specificationMarket":{"id":"PAN","lang":"en-GB"},"model":{"id":"Q1","orgLevel":0,"lang":"en-GB"},"programId":"L663","modelYear":{"id":"001CD","orgLevel":0,"lang":"en-GB"},"brand":{"id":"SAL","descr":"Land Rover","lang":"en-GB"},"brochureModel":{"type":"BMOD","id":"AB663","group":"null","descr":"L663 3.0 AJ20-P6H AWD 5DR SWB","lang":"en-GB"},"product":{"id":"5000529105","descr":"L663 3.0P AWD 5DR SWB (AB663) First Edition 110 400PS Auto, Panama PAN, AB663/351CX, 2020"},"derivativePack":{},"derivative":{"type":"PROD","id":"AB663","group":"null","descr":"L663 3.0P AWD 5DR SWB (AB663) First Edition 110 400PS Auto, Panama PAN, AB663/351CX, 2020","lang":"en-GB"},"engineType":{"type":"OTHR","id":"200BP","group":"null","lang":"en-GB"},"bodyStyle":{"type":"OTHR","id":"099AA","group":"null","descr":"5 Door Estate","lang":"en-GB"},"drive":{"type":"OTHR","id":"109AA","group":"null","descr":"All Wheel Drive","lang":"en-GB"},"wheelBase":{"type":"OTHR","id":"101AG","group":"DERIVATIVE - WHEELBASE","descr":"Standard Wheelbase","lang":"en-GB"},"exteriorColour":{"type":"PCOL","id":"1AC","group":"PAINTS - METALLIC","descr":"Indus Silver","lang":"en-GB"},"trim":{},"transmission":{"type":"TRAN","id":"078CU","group":"null","descr":"Auto 8 SPD Auto Trans ZF 8HP76","lang":"en-GB"},"fuelType":{"type":"OTHR","id":"103AH","group":"null","descr":"Unleaded Fuel","lang":"en-GB"},"_embedded":{},"engineNo":"200225Z0328PT306","chassisNo":"006511","registrationNo":"","registrationDate":"2020-11-26"}}}';
    String errorResponse = '{"fault":{"code":101103,"message":"Not Found","description":"The Vehicle Order does not exist or no access is allowed using the provided credentials."}}';
    integer tokenstatusCode;
    integer apistatusCode;
    String callType;
    
    public AssetVehicleOrderApiMockController(integer tokenstatusCode,integer apistatusCode,String callType){
        this.tokenstatusCode = tokenstatusCode;
        this.apistatusCode = apistatusCode;
        this.callType = callType;
    }
    
    global HTTPResponse respond(HTTPRequest req) {
        HttpResponse res = new HttpResponse();
        if (req.getEndpoint().contains('/token')) {
            res.setBody(accessTokenrespBody);
            res.setStatusCode(tokenstatusCode);
        }else if(req.getEndpoint().contains('/VehicleOrders/v3/orders/')) {
            if(apistatusCode == 200){
                if(callType == 'ValidOrder'){
                    res.setBody(orderApirespBody);
                }else  if(callType == 'InValidOrder'){
                    res.setBody(orderResp1);
                }else  if(callType == 'WithoutCurrentStatus'){
                    res.setBody(orderResp2);
                }
                res.setStatusCode(apistatusCode);
            }else{
                res.setStatusCode(apistatusCode);
            }
            
        }
        
        return res;
    }
    
}